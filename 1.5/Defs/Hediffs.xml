<Defs>
    <HediffDef Name="DE_FungalHediffBase" Abstract="True">
        <defaultLabelColor>(214, 90, 24)</defaultLabelColor>
        <hediffClass>HediffWithComps</hediffClass>
        <everCurableByItem>false</everCurableByItem>
        <scenarioCanAdd>false</scenarioCanAdd>
        <isBad>false</isBad>
    </HediffDef>

    <HediffDef ParentName="DE_FungalHediffBase">
        <defName>DE_Assimilation</defName>
        <label>assimilation</label>
        <description>Contracted after ingesting a Nexus Burgeon. The spore has is travelling inside the body. First it will move to the brain. Once the host has accepted the "deal", it will begin to spread throughout the entire body to drastically change it.</description>
        <hediffClass>DanceOfEvolution.Hediff_Assimilation</hediffClass>
        <initialSeverity>0.01</initialSeverity>
        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>0.4</severityPerDay>
            </li>
        </comps>
        <stages>
            <li>
                <minSeverity>0</minSeverity>
            </li>
            <li>
                <minSeverity>0.15</minSeverity>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>-0.05</offset>
                    </li>
                </capMods>
            </li>
            <li>
                <minSeverity>0.30</minSeverity>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>-0.15</offset>
                    </li>
                </capMods>
            </li>
            <li>
                <minSeverity>0.50</minSeverity>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>-0.15</offset>
                    </li>
                </capMods>
            </li>
            <li>
                <minSeverity>0.80</minSeverity>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <setMax>0.01</setMax>
                    </li>
                </capMods>
            </li>
        </stages>
    </HediffDef>

    <HediffDef ParentName="DE_FungalHediffBase">
        <defName>DE_FungalNexus</defName>
        <label>fungal nexus</label>
        <description>Transformed into a Fungal Nexus.</description>
        <hediffClass>DanceOfEvolution.Hediff_FungalNexus</hediffClass>
        <stages>
            <li>
                <statOffsets>
                    <PsychicSensitivity>0.2</PsychicSensitivity>
                </statOffsets>
            </li>
        </stages>
    </HediffDef>

    <HediffDef Name="DE_ServantTypeBase" ParentName="DE_FungalHediffBase" Abstract="True">
        <disablesNeeds>
            <li>Rest</li>
        </disablesNeeds>
        <stages>
            <li>
                <painFactor>0</painFactor>
                <regeneration>10</regeneration>
                <showRegenerationStat>true</showRegenerationStat>
            </li>
        </stages>
    </HediffDef>

    <HediffDef ParentName="DE_FungalHediffBase">
        <defName>DE_ServantBurrower</defName>
        <label>burrower servant</label>
        <description>A burrower servant type.</description>
        <hediffClass>DanceOfEvolution.Hediff_ServantBurrower</hediffClass>
        <stages>
            <li>
                <becomeVisible>false</becomeVisible>
            </li>
        </stages>
    </HediffDef>

    <HediffDef ParentName="DE_ServantTypeBase">
        <defName>DE_ServantSmall</defName>
        <label>small servant</label>
        <hediffClass>DanceOfEvolution.Hediff_ServantSmall</hediffClass>
        <description>This rotting corpse is animated by an extremely intelligent breed of fungus that serves a larger collective. Due to the small size of the organism it inhabits, it performs menial tasks for its kin. A nexus of psychic energy allows communication between members of the collective.</description>
    </HediffDef>

    <HediffDef ParentName="DE_ServantTypeBase">
        <defName>DE_ServantMedium</defName>
        <label>medium servant</label>
        <hediffClass>DanceOfEvolution.Hediff_ServantMedium</hediffClass>
        <description>This rotting corpse is animated by an extremely intelligent breed of fungus that serves a larger collective. Due to its size, it performs complex tasks for its kin. Using their long limbs, they are able to cook mine and build. They also posess the ability to harden and sculp the bones of the body they inhabit before firing it at range.</description>
    </HediffDef>

    <HediffDef ParentName="DE_ServantTypeBase">
        <defName>DE_ServantLarge</defName>
        <label>large servant</label>
        <hediffClass>DanceOfEvolution.Hediff_ServantLarge</hediffClass>
        <description>This rotting corpse is animated by an extremely intelligent breed of fungus that serves a larger collective. This fungi has renounced any and all ideas of helping its kin work, instead it used the large amount of biomass gifted to it to fortify and strengthen the body it inhabits to defend its collective. While these beasts are extremely resilient and powerful, they are more fungus that animal, making them very weak to fire.</description>
        <stages Inherit="False">
            <li>
                <painFactor>0</painFactor>
                <regeneration>10</regeneration>
                <showRegenerationStat>true</showRegenerationStat>
                <statFactors>
                    <IncomingDamageFactor>0.5</IncomingDamageFactor>
                </statFactors>
                <statOffsets>
                    <Flammability>1</Flammability>
                </statOffsets>
            </li>
        </stages>
    </HediffDef>

    <HediffDef ParentName="DE_ServantTypeBase">
        <defName>DE_ServantGhoul</defName>
        <label>ghoul servant</label>
        <hediffClass>DanceOfEvolution.Hediff_ServantGhoul</hediffClass>
        <description>This rotting human corpse is animated by an extremely intelligent breed of fungus that serves a larger collective. Animals and insect can be controlled and used easily by pulling at muscles, puppeteering them from within. Humans however, are mostly useful for their nervous systems. Fungi that live in these hosts await for instruction from their kin. Once they receive the order and the required resources, they will begin to fully integrate themselves into their host's nervous system to repair and reawaken it.</description>

    </HediffDef>

    <HediffDef ParentName="DE_ServantTypeBase">
        <defName>DE_ServantStrange</defName>
        <label>strange servant</label>
        <hediffClass>DanceOfEvolution.Hediff_ServantStrange</hediffClass>
        <description>This strange rotting corpse is animated by an extremely intelligent breed of fungus that serves a larger collective. The twisted flesh that make up this corpse have left the fungus that inhabits it into a strange state. It will often send eroneous signals to its kin and is prone to odd twitching of its limbs. Due to the inherent psychic properties of the body they inhabit, they have gained the ability to use psychic influence to render themselves effectively unseen by nearby minds.</description>
        <comps>
            <li Class="HediffCompProperties_GiveAbility">
                <abilityDefs>
                    <li>DE_WraithInvisibility</li>
                </abilityDefs>
            </li>
        </comps>
    </HediffDef>

    <AbilityDef>
        <defName>DE_WraithInvisibility</defName>
        <label>wraith invisibility</label>
        <description>The wraith becomes invisible for a day. This invisibility will break if it attacks, and has a 10-day cooldown period before it can be used again.</description>
        <iconPath>UI/Abilities/WraithInvisibility</iconPath>
        <cooldownTicksRange>600000</cooldownTicksRange>
        <writeCombatLog>True</writeCombatLog>
        <targetRequired>false</targetRequired>
        <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
        <statBases>
            <Ability_Duration>60000</Ability_Duration>
        </statBases>
        <verbProperties>
            <verbClass>Verb_CastAbility</verbClass>
            <drawAimPie>false</drawAimPie>
            <requireLineOfSight>false</requireLineOfSight>
            <nonInterruptingSelfCast>true</nonInterruptingSelfCast>
            <warmupTime>1</warmupTime>
            <range>0</range>
            <targetable>false</targetable>
            <targetParams>
                <canTargetSelf>true</canTargetSelf>
            </targetParams>
        </verbProperties>
        <comps>
            <li Class="CompProperties_AbilityGiveHediff">
                <compClass>CompAbilityEffect_GiveHediff</compClass>
                <hediffDef>PsychicInvisibility</hediffDef>
            </li>
        </comps>
    </AbilityDef>

    <HediffDef ParentName="DE_FungalHediffBase">
        <defName>DE_FungalTentacle</defName>
        <label>fungal tentacle</label>
        <labelNoun>a fungal tentacle</labelNoun>
        <description>text.todo.</description>
        <stages>
            <li>
                <statOffsets>
                    <PawnBeauty>-1</PawnBeauty>
                    <CarryingCapacity>50</CarryingCapacity>
                </statOffsets>
            </li>
        </stages>
        <comps>
            <li Class="HediffCompProperties_VerbGiver">
                <tools>
                    <li>
                        <label>tentacle</label>
                        <capacities>
                            <li>Blunt</li>
                        </capacities>
                        <power>5</power>
                        <cooldownTime>2</cooldownTime>
                        <soundMeleeHit>MeleeHit_BionicPunch</soundMeleeHit>
                        <soundMeleeMiss>MeleeMiss_BionicPunch</soundMeleeMiss>
                    </li>
                </tools>
            </li>
        </comps>
        <renderNodeProperties>
            <li Class="PawnRenderNodeProperties_Spastic">
                <texPaths>
                    <li>Things/Pawn/Humanlike/BodyAttachments/TentacleLimb/TentacleLimbA</li>
                    <li>Things/Pawn/Humanlike/BodyAttachments/TentacleLimb/TentacleLimbB</li>
                    <li>Things/Pawn/Humanlike/BodyAttachments/TentacleLimb/TentacleLimbC</li>
                </texPaths>
                <parentTagDef>Body</parentTagDef>
                <overrideMeshSize>1</overrideMeshSize>
                <drawSize>1.3</drawSize>
                <colorType>Skin</colorType>
                <rotDrawMode>Fresh, Rotting</rotDrawMode>
                <useSkinShader>true</useSkinShader>
                <useRottenColor>true</useRottenColor>
                <rotationRange>-30~30</rotationRange>
                <durationTicksRange>10~35</durationTicksRange>
                <nextSpasmTicksRange>10~50</nextSpasmTicksRange>
                <drawData>
                    <scaleOffsetByBodySize>true</scaleOffsetByBodySize>
                    <useHediffAnchor>true</useHediffAnchor>
                    <childScale>0.7</childScale>
                    <bodyTypeScales>
                        <Hulk>1.2</Hulk>
                        <Fat>1.4</Fat>
                        <Thin>0.8</Thin>
                    </bodyTypeScales>
                    <defaultData>
                        <layer>49</layer>
                    </defaultData>
                    <dataNorth>
                        <rotationOffset>310</rotationOffset>
                        <flip>true</flip>
                        <layer>0</layer>
                    </dataNorth>
                    <dataEast>
                        <rotationOffset>270</rotationOffset>
                        <flip>true</flip>
                    </dataEast>
                    <dataSouth>
                        <rotationOffset>220</rotationOffset>
                    </dataSouth>
                    <dataWest>
                        <rotationOffset>270</rotationOffset>
                    </dataWest>
                </drawData>
            </li>
        </renderNodeProperties>
    </HediffDef>

    <HediffDef ParentName="DE_FungalHediffBase">
        <defName>DE_BladedLimb</defName>
        <label>bladed limb</label>
        <labelNoun>a bladed limb</labelNoun>
        <description>A sharp limb capable of delivering slicing melee attacks.</description>
        <hediffClass>DanceOfEvolution.Hediff_Stackable</hediffClass>
        <comps>
            <li Class="HediffCompProperties_VerbGiver">
                <tools>
                    <li>
                        <label>bladed limb</label>
                        <capacities>
                            <li>Cut</li>
                        </capacities>
                        <power>12</power>
                        <armorPenetration>0.18</armorPenetration>
                        <cooldownTime>1.1</cooldownTime>
                        <soundMeleeHit>MeleeHit_BionicSlash</soundMeleeHit>
                        <soundMeleeMiss>MeleeMiss_BionicSlash</soundMeleeMiss>
                    </li>
                </tools>
            </li>
        </comps>
    </HediffDef>

    <ThingDef ParentName="BaseGun">
        <defName>DE_Gun_SpikeThrower</defName>
        <label>spike thrower</label>
        <description>A long-range spike thrower capable of launching high-velocity projectiles.</description>
        <graphicData>
            <texPath>Things/Mote/Transparent</texPath>
            <graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <tradeability>None</tradeability>
        <destroyOnDrop>true</destroyOnDrop>
        <relicChance>0</relicChance>
        <statBases>
            <MarketValue>0</MarketValue>
            <Mass>2.6</Mass>
            <AccuracyTouch>0.60</AccuracyTouch>
            <AccuracyShort>0.80</AccuracyShort>
            <AccuracyMedium>0.90</AccuracyMedium>
            <AccuracyLong>0.85</AccuracyLong>
            <RangedWeapon_Cooldown>2.1</RangedWeapon_Cooldown>
        </statBases>
        <verbs>
            <li>
                <verbClass>Verb_Shoot</verbClass>
                <defaultProjectile>DE_SpikeProjectile</defaultProjectile>
                <warmupTime>2.5</warmupTime>
                <range>37</range>
                <soundCast>Shot_NeedleGun</soundCast>
                <ticksBetweenBurstShots>10</ticksBetweenBurstShots>
                <burstShotCount>2</burstShotCount>
            </li>
        </verbs>
    </ThingDef>


    <ThingDef ParentName="BaseBullet">
        <defName>DE_SpikeProjectile</defName>
        <label>spike</label>
        <description>A sharp, high-velocity projectile launched by the spike thrower.</description>
        <projectile>
            <speed>90</speed>
            <damageDef>Bullet</damageDef>
            <damageAmountBase>13</damageAmountBase>
            <armorPenetrationBase>0.35</armorPenetrationBase>
            <stoppingPower>0.5</stoppingPower>
        </projectile>
        <graphicData>
            <texPath>Things/Projectile/Needle</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>1.3</drawSize>
        </graphicData>
    </ThingDef>

    <HediffDef ParentName="DE_FungalHediffBase">
        <defName>DE_PiercingLimb</defName>
        <label>piercing limb</label>
        <labelNoun>a piercing limb</labelNoun>
        <description>A sharp, piercing limb capable of delivering powerful stabbing melee attacks.</description>
        <hediffClass>DanceOfEvolution.Hediff_Stackable</hediffClass>
        <comps>
            <li Class="HediffCompProperties_VerbGiver">
                <tools>
                    <li>
                        <label>piercing limb</label>
                        <capacities>
                            <li>Stab</li>
                        </capacities>
                        <power>20</power>
                        <armorPenetration>0.5</armorPenetration>
                        <cooldownTime>2.7</cooldownTime>
                        <soundMeleeHit>MeleeHit_BionicSlash</soundMeleeHit>
                        <soundMeleeMiss>MeleeMiss_BionicSlash</soundMeleeMiss>
                    </li>
                    <li>
                        <label>piercing limb</label>
                        <capacities>
                            <li>Stab</li>
                        </capacities>
                        <power>20</power>
                        <armorPenetration>0.5</armorPenetration>
                        <cooldownTime>2.7</cooldownTime>
                        <soundMeleeHit>MeleeHit_BionicSlash</soundMeleeHit>
                        <soundMeleeMiss>MeleeMiss_BionicSlash</soundMeleeMiss>
                    </li>
                </tools>
            </li>
        </comps>
    </HediffDef>
</Defs>